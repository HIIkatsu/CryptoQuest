<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CryptoQuest</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ===== –û–±—â–∏–µ —Å—Ç–∏–ª–∏ ===== */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif;}
body{background:radial-gradient(ellipse at top,#0a0a1f 0%,#000 70%);color:#fff;min-height:100vh;overflow-x:hidden;position:relative;}

/* ===== –ó–≤—ë–∑–¥—ã ===== */
.stars-bg{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;}
.star{position:absolute;border-radius:50%;opacity:0.6;animation:twinkle 4s ease-in-out infinite;background:radial-gradient(circle,#4da8ff 0%,transparent 70%);}
.star.big{width:2px;height:2px;}
.star.medium{width:1px;height:1px;}
.star.small{width:0.5px;height:0.5px;}
@keyframes twinkle{0%,100%{opacity:0.4;transform:scale(1);}50%{opacity:1;transform:scale(1.4);}}

/* ===== –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ===== */
.container{max-width:400px;margin:0 auto;padding:28px 24px;position:relative;z-index:10;min-height:100vh;padding-bottom:100px;}

/* ===== –ó–∞–≥–æ–ª–æ–≤–æ–∫ ===== */
.header{text-align:center;margin-bottom:24px;}
.logo{font-size:36px;font-weight:700;background:linear-gradient(135deg,#4da8ff 0%,#7dc8ff 50%,#a8d8ff 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 20px rgba(77,168,255,0.3);margin-bottom:8px;}
.subtitle{font-size:15px;color:#b8b8d0;font-weight:400;background: rgba(20,20,35,0.8);padding:8px 16px;border-radius:20px;display:inline-block;backdrop-filter: blur(20px); border:1px solid rgba(77,168,255,0.1);}

/* ===== –í–∫–ª–∞–¥–∫–∏ ===== */
.tabs{display:flex; gap:8px; margin-bottom:16px;}
.tab{flex:1; padding:10px; background: rgba(30,30,50,0.8); border-radius:12px; text-align:center; cursor:pointer; user-select:none; transition:0.3s;}
.tab.active{background: linear-gradient(135deg,#4da8ff,#7dc8ff); color:#000;}
.tab-content{display:none;}
.tab-content.active{display:block;}

/* ===== –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ===== */
.stats-grid{display:grid;grid-template-columns:1fr 1fr; gap:20px; margin-bottom:24px;}
.stat-card{background: rgba(20,20,35,0.9); backdrop-filter:blur(20px); border:1px solid rgba(77,168,255,0.2); border-radius:16px; padding:24px 20px; text-align:center; transition:all 0.3s; position:relative; overflow:hidden;}
.stat-card::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(77,168,255,0.1),transparent);transition:left 0.5s;}
.stat-card:hover::before{left:100%;}
.stat-card:hover{border-color:rgba(77,168,255,0.4);transform:translateY(-4px);box-shadow:0 20px 40px rgba(77,168,255,0.15);}
.balance,.level-display{font-size:28px;font-weight:700;background:linear-gradient(135deg,#4da8ff,#7dc8ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:6px;}
.stat-value{font-size:26px;font-weight:700;color:#4da8ff;margin-bottom:4px;}
.stat-label{font-size:14px;color:#9a9ab0;font-weight:500;}

/* ===== –ö–∞—Ä—Ç–∞ ===== */
.map-section{background: rgba(10,10,25,0.95);backdrop-filter: blur(25px);border:1px solid rgba(77,168,255,0.15);border-radius:20px;padding:24px; margin-bottom:36px;position:relative;overflow:hidden;}
.map-header{font-size:17px;font-weight:600;color:#4da8ff;margin-bottom:16px;display:flex;align-items:center;gap:10px;}
#map{width:100%; height:220px; border-radius:16px; box-shadow:0 8px 32px rgba(0,0,0,0.4);}

/* ===== –ö–Ω–æ–ø–∫–∏ ===== */
.action-section{display:flex; flex-direction:column; gap:16px;}
.btn-main{background:linear-gradient(135deg, rgba(77,168,255,0.2), rgba(125,200,255,0.1)); backdrop-filter:blur(25px); border:2px solid rgba(77,168,255,0.5); border-radius:16px; padding:24px 28px; font-size:18px; font-weight:600; color:#fff; display:flex; align-items:center; justify-content:center; gap:12px; transition:all 0.3s; cursor:pointer; position:relative; overflow:hidden;}
.btn-main::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left 0.6s;}
.btn-main:hover::before{left:100%;}
.btn-main:hover{border-color:#4da8ff;background:rgba(77,168,255,0.3);transform:translateY(-3px);box-shadow:0 20px 40px rgba(77,168,255,0.25);}
.btn-grid{display:grid; grid-template-columns:1fr 1fr; gap:16px;}
.btn-secondary{background: rgba(30,30,50,0.8); backdrop-filter: blur(20px); border:1px solid rgba(255,255,255,0.15); border-radius:16px; padding:20px 24px; font-size:16px; font-weight:500; color:#e0e0e0; display:flex; align-items:center; justify-content:center; gap:10px; transition: all 0.3s; cursor:pointer;}
.btn-secondary:hover{background: rgba(50,50,75,0.9); border-color: rgba(77,168,255,0.4); transform:translateY(-2px); box-shadow:0 12px 30px rgba(0,0,0,0.4);}

/* ===== –ü—Ä–æ–∫–∞—á–∫–∏ ===== */
.upgrade-card{background: rgba(20,20,35,0.9); padding:16px; border-radius:16px; margin-bottom:12px; display:flex; flex-direction:column; gap:6px;}
.upgrade-card button{background:linear-gradient(135deg, rgba(77,168,255,0.2), rgba(125,200,255,0.1)); border:2px solid rgba(77,168,255,0.5); color:#fff; padding:10px; border-radius:12px; cursor:pointer; transition:0.3s;}
.upgrade-card button:hover{background:rgba(77,168,255,0.3); border-color:#4da8ff;}

/* ===== –ö–≤–µ—Å—Ç—ã ===== */
.quests-section .quest-card{margin-bottom:10px; padding:10px; background: rgba(30,30,50,0.8); border-radius:12px;}
.quests-section .quest-card button{margin-top:6px; padding:6px 10px; border-radius:8px; border:none; cursor:pointer; background:linear-gradient(135deg,#4da8ff,#7dc8ff); color:#000; font-weight:600; transition:0.3s;}
.quests-section .quest-card button:hover{opacity:0.85;}

/* ===== –ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–≤–Ω—è ===== */
.level-bar-container{margin-bottom:24px;}
.level-info{display:flex; justify-content:space-between; font-size:14px; font-weight:500; margin-bottom:4px; color:#b8b8d0;}
.level-bar-bg{width:100%; height:12px; background: rgba(77,168,255,0.15); border-radius:8px; overflow:hidden;}
.level-bar-fill{width:0%; height:100%; background: linear-gradient(90deg,#4da8ff,#7dc8ff); border-radius:8px 0 0 8px; transition: width 0.4s ease;}
</style>
<body>
<div class="stars-bg" id="stars"></div>

<div class="container">

<!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
<div class="header">
<div class="logo">CryptoQuest</div>
<div class="subtitle">AR Token Hunt ‚Ä¢ –ú–æ—Å–∫–≤–∞ 2026</div>
</div>

<!-- –í–∫–ª–∞–¥–∫–∏ -->
<div class="tabs">
<div class="tab active" data-tab="main">–ì–ª–∞–≤–Ω–∞—è</div>
<div class="tab" data-tab="upgrades">–ü—Ä–æ–∫–∞—á–∫–∏</div>
<div class="tab" data-tab="quests">–ö–≤–µ—Å—Ç—ã</div>
</div>

<!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–æ–∫ -->
<div class="tab-content active" id="main">

<!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="balance" id="balance">0 QTZ</div>
        <div class="stat-label">–¢–≤–æ–π –±–∞–ª–∞–Ω—Å</div>
    </div>
    <div class="stat-card">
        <div class="stat-value" id="activeZones">0</div>
        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–æ–Ω</div>
    </div>
</div>

<!-- –ü–æ–ª–æ—Å–∫–∞ —É—Ä–æ–≤–Ω—è -->
<div class="level-bar-container">
    <div class="level-info">
        <span id="levelNumber">–£—Ä–æ–≤–µ–Ω—å 1</span>
        <span id="expPercent">0%</span>
    </div>
    <div class="level-bar-bg">
        <div class="level-bar-fill" id="levelBar"></div>
    </div>
</div>

<!-- –ö–∞—Ä—Ç–∞ -->
<div class="map-section">
<div class="map-header">üó∫Ô∏è –ö–∞—Ä—Ç–∞ —Å–æ–∫—Ä–æ–≤–∏—â</div>
<div id="map"></div>
</div>

<!-- –ö–Ω–æ–ø–∫–∏ -->
<div class="action-section">
<button class="btn-main" id="startQuestBtn">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–≤–µ—Å—Ç</button>
<div class="btn-grid">
<button class="btn-secondary" id="scanBtn">üîç AR —Å–∫–∞–Ω–µ—Ä</button>
<button class="btn-secondary" id="marketBtn">üíé P2P —Ä—ã–Ω–æ–∫</button>
</div>
</div>
</div>

<div class="tab-content" id="upgrades">
<div class="upgrade-card">
<span>–¢–æ—á–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è (—É–ª—É—á—à–µ–Ω–∏–µ)</span>
<button onclick="upgrade('location')">–ü–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
</div>
<div class="upgrade-card">
<span>–°–∫–æ—Ä–æ—Å—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</span>
<button onclick="upgrade('speed')">–ü–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
</div>
<div class="upgrade-card">
<span>–ë–æ–Ω—É—Å –∑–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
<button onclick="upgrade('reward')">–ü–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
</div>
</div>

<div class="tab-content" id="quests">
<div class="quests-section" id="questsList">
<!-- –ö–≤–µ—Å—Ç—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
</div>
</div>
